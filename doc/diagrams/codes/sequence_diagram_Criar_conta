title Criar conta

actor Usu치rio

participant Flask
participant data.Auth
participant SQLAlchemy

Usu치rio->Flask: POST /username=<user>&password=<password>&email=<email>
Flask->data.Auth: get_user(email)
data.Auth->SQLAlchemy: query(Users).filter(email)
data.Auth<--SQLAlchemy: list<users>

alt list<users> is not empty
Flask<--data.Auth: user
Usu치rio<--Flask: "This e-mail has already been used"
else list<users> is empty
Flask<--data.Auth: empty list
Flask->data.Auth: create_user(username, email, password)
data.Auth->SQLAlchemy: add(user)
data.Auth<--SQLAlchemy: user
Flask<--data.Auth: user
Usu치rio<--Flask: HTTP redirect to /logged
end